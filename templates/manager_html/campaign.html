{% extends "header.html" %}

{% block header %}
    <link rel="stylesheet" href="/static/css/bs_css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/js_css/jquery.dataTables.min.css"> 
    <script src="/static/css/bs_css/select2.css"></script>  


    <script defer src="/static/javascript/manager_js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
    <script defer src="/static/javascript/bs_js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>
    <script src="/static/javascript/bs_js/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <script src="/static/jquery/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> 

    <script src="/static/jquery/jquery.dataTables.min.js"></script>
    <script src="/static/javascript/bs_js/dataTables.bootstrap4.min.js"></script>
    <script src="/static/javascript/select2.js"></script>

    <!-----------Customize Part------------>
    <link rel="stylesheet" href="/static/css/manager.css">
{% endblock %}

<!----------------------BODY PART---------------------------------------------->
{% block body %}
<div class="wrapper">
    <nav id="sidebar">
        <div class="sidebar-header">
            <h3>Tools</h3>
        </div>

        <ul class="list-unstyled components">
            <p>Campaign Managment</p>
            <li class="active">
                <a href="{{ url_for('manager.viewCampaign') }}" >View Campaigns</a>
            </li>
            <li>
                <a href="{{ url_for('manager.createCampaign')}}" >Create Campaigns</a>
            </li>
            <li>
                <a href="#">Edit Campaigns</a>
            </li>
            <li>
                <a href="#">view Assignments</a>
            </li>
            <li>
                <a href="#">Edit Campaigns</a>
            </li>
            <li>
                <a href="#">View Results</a>
            </li>
        </ul>
    </nav>
    <!------------------Main Content Part--------------- -->
    <div id="content">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container-fluid">
                    <button type="button" id="sidebarCollapse" class="navbar-btn">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <i class="fas fa-align-justify"></i>
                    </button>
                 <h3 id = "title"> View Compaigns </h3>
            </div>
       </nav>
<!-----------------View Compaign------------------>
       <div class="container" {% if index < 5 %} style="display: block;" {% else %} style = "display: none;" {% endif %} > 
            <div class="table-responsive">
                <table id = "camp-table" cellspacing="0" width="100%" class="table table-striped table-bordered table-hover" data-cache = "false">
  <!------------Table Headers------------------->
              <thead class="thead-light">
                  <tr>
                    <th  data-field ="name" class="column-header col-name"  style="text-align:center">Compaign Name
                      <i class = "fa fa-sort-up float-right" aria-hidden="true"> </i>
                    </th>
                    <th  data-field = "start" class="column-header col-start" style="text-align:center">Start Date
                       <i class = "fa fa-sort-up float-right " aria-hidden="true"> </i>
                    </th>
                    <th  data-field = "end" class="column-header col-end"  style="text-align:center"> End Date
                      <i class = "fa fa-sort-up float-right " aria-hidden="true"> </i>
                    </th >
                    <th  data-field = "duration" class="column-header col-end"  style="text-align:center"> Duration
                      <i class = "fa fa-sort-up float-right " aria-hidden="true"> </i>
                    </th >
                     <th style="text-align:center"> See Details </th>
                 </tr>
              </thead>
          {% for ele in camp %}
            <tr >  
              <td class="list-buttons-column"  style="text-align:center">{{ camp[ele][0].campaign_name }} </td>
              <td class="list-buttons-column" style="text-align:center">{{ camp[ele][0].startDate }}</td>
              <td class="list-buttons-column" style="text-align:center">{{ camp[ele][0].endDate }} </td>
              <td class="list-buttons-column" style="text-align:center">{{ camp[ele][0].duration }} </td>
              <td class="list-buttons-column" style="text-align:center">
               <button  type ="button" class="btn btn-default btn-xs detail"> <i class="fa fa-info-circle"></i></button>
              </td>
            </tr>
          {% endfor %}
          </table>
       </div>
       <hr>
       <div class="container" id ="detail-container" {% if (index > 0 and index <5 ) %} style ="display: block;" {% else %} style ="display:none;" {% endif %}>
            <div>
              <form method="post" action ="{{ url_for('manager.viewCampaignDetail') }}">
                <label style ="font-weight: bold; font-size: 22px;" id= "detail-title"> Details For Compaign : </label>
                <input name ="campaign-name" class="form-control" style ="background-color:  #6D7FCC;font-weight: bold; font-size: 22px;" id ="campaign-name" {% if name %} value = "{{ name }}" {% endif %} >
                <br>
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                  <li class="nav-item">
                    <a class="nav-link"  {% if index ==0  or index == 1 %} class ="active" {% endif %} id="manager-tab" href="#" aria-selected="true"><input type ="submit" name="action" value="Managers"> </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" {% if index == 2 %} class ="active" {% endif %}  id="canvasser-tab" href="#" aria-selected="false"><input type ="submit" name="action" value="Canvassers"></a>
                 </li>
                 <li class="nav-item">
                   <a class="nav-link"  {% if index == 3 %} class ="active" {% endif %} id="location-tab" href="#" aria-selected="false"><input type ="submit" name="action" value="Locations"></a>
                 </li>
                <li class="nav-item">
                       <a class="nav-link" {% if index == 4 %} class ="active" {% endif %} id="question-tab" href="#" aria-selected="false"><input type ="submit" name="action" value="Questions"></a>
                </li>
               </ul>
            </form>
           </div>
          <!--------------Table for showing manager and canvasser---------------->
            <table class="table table-bordered" width="100%" id="user-table" {% if index == 1 or index == 2 %} style ="display: block;" {% else %} style ="display:none;" {% endif %}>
               <thead class="thead-light">
                  <tr>
                      <th class = "col-md-2" style="text-align:center">Name</th>
                      <th class = "col-md-4">Email</th>
                  </tr>
              </thead>
              <tbody>
                  {% if camp_list|length > 0 %}
                    {% for ele in camp_list %}
                       <tr >
                         <td class = "col-md-2" style="text-align:center">{{ ele.name }}</td>
                         <td class = "col-md-4">{{ ele.email}}</td>
                      </tr>
                     {% endfor %}
                  {% endif %}
              </tbody>
            </table>
             <!--------------Table for showing locations--------------->
            <table class="table table-bordered" width="100%" id="other1-table" {% if index == 3 or index == 4 %} style ="display: block;" {% else %} style ="display:none;" {% endif %}>
               <thead class="thead-light">
                  <tr>
                      <th class = "col" style="text-align:center">Location</th>
                      <th class = "col" style="text-align:center">Latitude</th>
                      <th class = "col" style="text-align:center">Longitude</th>
                  </tr>
              </thead>
              <tbody>
                  {% if camp_list|length > 0 %}
                    {% for ele in camp_list %}
                       <tr >
                         <td class = "col" style="text-align:center">{{ ele.location }}</td>
                         <td class = "col" style="text-align:center">{{ ele.x }}</td>
                         <td class = "col" style="text-align:center">{{ ele.y }}</td>
                      </tr>
                     {% endfor %}
                  {% endif %}
              </tbody>
            </table>
        <!--------------Table for showing locations--------------->
            <table class="table table-bordered" width="100%" id="other2-table" {% if index == 3 or index == 4 %} style ="display: block;" {% else %} style ="display:none;" {% endif %}>
               <thead class="thead-light">
                  <tr>
                      <th class = "col" style="text-align:center">Questions</th>
                  </tr>
              </thead>
              <tbody>
                  {% if camp_list|length > 0 %}
                    {% for ele in camp_list %}
                       <tr >
                         <td class = "col" style="text-align:center">{{ ele.question }}</td>
                      </tr>
                     {% endfor %}
                  {% endif %}
              </tbody>
            </table>
       </div>
    </div>
   </div>
 </div>
     <script  src="/static/javascript/manager_js/campaign.js"></script>
{%  endblock %}